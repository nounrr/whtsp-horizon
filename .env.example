#############################################
# WhatsApp service configuration (.env)
#############################################

# WhatsApp-web.js (optional): path to Chrome/Chromium
# Windows example:
# CHROME_PATH="C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe"
CHROME_PATH=

# Phone normalization default country code (Morocco)
DEFAULT_CC=212

# Protect /send-* endpoints
WA_API_KEY=change_me

# Server bind
HOST=127.0.0.1
PORT=3000

#############################################
# Laravel API (used by /send-template)
#############################################

# Base URL of sirh-back (without trailing slash)
# Example (local): http://127.0.0.1/sirh-back/public
API_BASE=http://localhost

# Protect /api/templates/render on sirh-back (header: X-Api-Key)
TEMPLATE_API_KEY=

#############################################
# Reminders source (choose one)
#############################################

# - db  : connect directly to MySQL (only if MySQL is reachable from this server)
# - api : call sirh-back API endpoint (recommended for shared hosting)
REMINDER_SOURCE=api

#############################################
# Daily reminders schedule
#############################################

# Timezone used to compute "today" and schedule cron
REMINDER_TZ=Africa/Casablanca

# Preferred simple format: every day at HH:mm (24h)
REMINDER_AT=08:00

# Advanced: override cron directly (takes priority over REMINDER_AT)
# REMINDER_CRON=0 8 * * *

# If true, only tasks with envoyer_auto=1 are reminded
REMINDER_ONLY_ENVOYER_AUTO=true

# Delay between WhatsApp sends to reduce rate limiting
REMINDER_SEND_DELAY_MS=600

# Reminders via API (recommended for shared hosting)
# Example: https://your-domain.com/api
REMINDER_API_BASE=https://example.com/api
# Must match sirh-back env REMINDER_API_KEY (or TEMPLATE_API_KEY fallback)
REMINDER_API_KEY=change-me

#############################################
# MySQL (for REMINDER_SOURCE=db)
#############################################
DB_HOST=127.0.0.1
DB_PORT=3306
DB_USER=root
DB_PASSWORD=
DB_NAME=sirh
DB_POOL_SIZE=5


